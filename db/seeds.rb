Page.destroy_all
Menu.destroy_all
h = Menu.create(name: '–ì–ª–∞–≤–Ω–æ–µ', text_slug: 'main').id
Page.create! name: '–ì–ª–∞–≤–Ω–∞—è', fullpath: '/', menu_ids: [h]
Page.create! name: '–û –ø—Ä–æ–µ–∫—Ç–µ', fullpath: '/about', menu_ids: [h],
  content: '''
–≠—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —à–∫–æ–ª–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å–æ –°–º—ã—Å–ª–æ–º.
–≠—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–≤–æ–µ–≥–æ —Ç–≤–æ—Ä—á–µ—Å–∫–æ–≥–æ –ø–æ—á–µ—Ä–∫–∞ –≤ –∏–≥—Ä–æ–≤–æ–π —Ñ–æ—Ä–º–µ.
–≠—Ç–æ —à–∫–æ–ª–∞ —Ñ–æ—Ç–æ–≤–∏–¥–µ–Ω–∏—è –Ω–∞ –∫–æ–Ω–∫—É—Ä—Å–Ω–æ–π –æ—Å–Ω–æ–≤–µ.
–≠—Ç–æ –ø–µ—Ä–≤–æ–µ –æ–Ω–ª–∞–π–Ω —Ä–µ–∞–ª–∏—Ç–∏-—à–æ—É –æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞—Ö.

üì∑ –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∏—Å–ø—ã—Ç–∞–Ω–∏–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∂–∞–Ω—Ä–∞—Ö, —É—Å–ª–æ–≤–∏—è—Ö, —Ç–µ–º–∞—Ö –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞—Ö;
üéØ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —à–∏—Ä–æ—Ç—É –∏ –≥–ª—É–±–∏–Ω—É –º—ã—à–ª–µ–Ω–∏—è, –≤—ã–¥–µ—Ä–∂–∫—É, –≥–∏–±–∫–æ—Å—Ç—å, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º –∏ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å;
üëè –æ—Ü–µ–Ω–∫–∞ –≤–∞—à–∏—Ö —Å–∏–ª—å–Ω—ã—Ö –∏ —Å–ª–∞–±—ã—Ö —Å—Ç–æ—Ä–æ–Ω —Ñ–æ—Ç–æ–º–∞—Å—Ç–µ—Ä–∞–º–∏ –∏ —Ç—ã—Å—è—á–∞–º–∏ –∑—Ä–∏—Ç–µ–ª–µ–π;
üîé –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è —á–µ—Ä–µ–¥–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤, –≤—ã—Ö–æ–¥ –∑–∞ –∑–æ–Ω—É –∫–æ–º—Ñ–æ—Ä—Ç–∞, –ø–æ–∏—Å–∫ —Å–≤–æ–µ–≥–æ —Ç–≤–æ—Ä—á–µ—Å–∫–æ–≥–æ –ø–æ—á–µ—Ä–∫–∞ –∏ –º–µ—Å—Ç–∞ –≤ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏.
üë¨ –æ–±–º–µ–Ω –æ–ø—ã—Ç–æ–º –∏ –æ–±—É—á–µ–Ω–∏–µ –æ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ —Ñ–æ—Ç–æ–º–∏—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Å—Ç–∞–≤—è—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –º—ã—Å–ª–∏—Ç—å –ò–Ω–∞—á–µ.'''.strip.split("\n").map{|s| "<p>#{s}</p>"}.join("\n")
Page.create! name: '–ì—Ä—É–ø–ø–∞ –í–ö', fullpath: 'https://vk.com/profoproject', menu_ids: [h]

Rails.application.eager_load!
puts 'Destroy ' + ApplicationRecord.subclasses.map(&:name).join(", ")
ApplicationRecord.subclasses.each(&:destroy_all)

admin_pw = Rails.application.secrets.admin_pw
User.destroy_all
User.create!(email: 'admin@profoproject.ru', password: admin_pw, password_confirmation: admin_pw, role: 'admin')




common_pw = 'qwerty123'
usrs = (1..17).map do
  User.create! email: FFaker::Internet.email, password: common_pw,
    password_confirmation: common_pw, role: 'photograph',
    name: FFaker::NameRU.name
end


t = Tournament.create! name: '–°–µ–∑–æ–Ω 9'
stage = t.stages.create! name: '–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∫—Ä–∞—Å–æ—Ç–∞',
  content: '''–ü–æ–Ω—è—Ç–∏—è –∫—Ä–∞—Å–æ—Ç—ã –º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥–æ–µ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏–µ. –ù–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ã —É–∂–µ –¥–∞–≤–Ω–æ –¥–æ–∫–∞–∑–∞–ª–∏, —á—Ç–æ –Ω–µ–∫—Ä–∞—Å–∏–≤—ã—Ö –ª—é–¥–µ–π –Ω–µ—Ç - –µ—Å—Ç—å –ø–ª–æ—Ö–æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π —Å–≤–µ—Ç –∏ –Ω–µ—É–¥–∞—á–Ω—ã–µ —Ä–∞–∫—É—Ä—Å—ã.

–¢–ï–ú–ê: –í–ù–£–¢–†–ï–ù–ù–Ø–Ø –ö–†–ê–°–û–¢–ê (–ì–ê–î–ö–ò–ô –£–¢–Å–ù–û–ö)
–ñ–ê–ù–†: –î–†–ê–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –ü–û–†–¢–†–ï–¢

–í —ç—Ç–æ–º –∑–∞–¥–∞–Ω–∏–∏ –≤–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –æ–±–¥—É–º–∞–Ω–Ω–æ –ø–æ–¥–æ–π—Ç–∏ –∫ –≤—ã–±–æ—Ä—É –º–æ–¥–µ–ª–∏. –ü–æ–ª, –≤–æ–∑—Ä–∞—Å—Ç –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã - —ç—Ç–æ –Ω–∞ –≤–∞—à –≤–∫—É—Å. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é —á–µ–ª–æ–≤–µ–∫–∞ –≤ –µ–≥–æ –ø–æ—Ä—Ç—Ä–µ—Ç–µ. –ü–æ–∫–∞–∂–∏—Ç–µ –∫—Ä–∞—Å–æ—Ç—É —Ç–æ–≥–æ, –∫—Ç–æ –Ω–µ –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫—Ä–∞—Å–æ—Ç—ã. –ó–∞ –∫–∞–∂–¥—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º —Å—Ç–æ–∏—Ç –∏—Å—Ç–æ—Ä–∏—è –µ–≥–æ –∂–∏–∑–Ω–∏.

–ü—É—Å—Ç—å –≤–∞—Å –Ω–µ —Å–º—É—â–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è, –≤–µ–¥—å –º—ã –≤—Å–µ –ø–æ–º–Ω–∏–º, —á—Ç–æ –∏–∑ –≥–∞–¥–∫–∏—Ö —É—Ç—è—Ç –ø–æ–ª—É—á–∞—é—Ç—Å—è –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–µ –ª–µ–±–µ–¥–∏!

–î—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç ‚Äî —ç—Ç–æ –≥–ª—É–±–æ–∫–∏–µ —Ç–µ–Ω–∏, –≤—ã—Å–æ–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç, –æ—Ä–µ–æ–ª –∑–∞–≥–∞–¥–æ—á–Ω–æ—Å—Ç–∏, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å–∫—Ä—ã—Ç—å –æ–±—Ä–∞–∑ —á–µ–ª–æ–≤–µ–∫–∞ –≤ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º —Ä–∞–∫—É—Ä—Å–µ. –ü–æ—á–∏—Ç–∞–π—Ç–µ —Å—Ç–∞—Ç—å–∏ –æ –ø–æ—Ä—Ç—Ä–µ—Ç–∞—Ö, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ª—é–±–æ–º –∫–ª—é—á–µ, –º–æ–∂–µ—Ç –±—ã—Ç—å —Ü–≤–µ—Ç–Ω–æ–π –∏–ª–∏ —á–µ—Ä–Ω–æ-–±–µ–ª–æ–π - –∑–¥–µ—Å—å –º—ã –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º.
–ö–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ - –Ω–µ –Ω–∏–∂–µ –ø–æ—è—Å–∞. –î–≤–∏–∂–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –≤ –∫–∞–¥—Ä–µ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç—Å—è, —Ç–∞–∫–∂–µ –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã, –Ω–æ –Ω–µ –ø–µ—Ä–µ–±–æ—Ä—â–∏—Ç–µ.
–°–æ–≤–µ—Ç—É–µ–º –≤–¥–æ—Ö–Ω–æ–≤–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞–º–∏ –ú–∏—Ö–∞–∏–ª–∞ –®–µ—Å—Ç–∞–∫–æ–≤–∞, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –Ω–∞—à–∏–º —Å—É–¥—å—ë–π –≤ —Å–µ–¥—å–º–æ–º —Å–µ–∑–æ–Ω–µ: https://vk.com/mishest
''',
  sort: 2, deadline: Time.now - 1.day,
  enabled: :true

stage2 = t.stages.create! name: '–°–Ω–∏–º–∏ —á–µ–≥–æ-–Ω–∏–±—É–¥—å',
  content: '–¢–∞–∫ –ø–æ-–º–µ–ª–æ—á–∏', sort: 3, enabled: true, deadline: Time.now + 10.days


def imgs_from dir
  Dir.glob(Rails.root.join('db', 'seed', 'photo', dir, '*')).map do |path|
    File.open(path)
  end
end

imgs = imgs_from '9.2'
usrs.each_with_index do |u, i|
  t.photographs.push u
  t.save!
  stage.photos.push u.photos.create! photo: imgs[i], enabled: :true, name: FFaker::LoremRU.word, target: 'stage'
  stage.save!
end

imgs_from('puddles').each do |img|
  stage.backstage_photos.create! photo: img, enabled: :true,
    name: FFaker::LoremRU.word, user: usrs[0]
end

mts = %w[–ó–∞–¥—É–º–∫–∞ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è].map do |name|
  stage.mark_types.create! name: name
end

stage2.mark_types = mts
stage2.save!

3.times do
  j = t.juries.create! name: FFaker::NameRU.name, password: common_pw,
    password_confirmation: common_pw, email: FFaker::Internet.email
  stage.photos.each do |photo|
    mts.each do |mt|
      mt.marks.create! user: j, photo: photo, mark: rand(10) + 1,
        content: FFaker::LoremRU.paragraph
    end
  end
end


TournamentUser.find_each(&:enable!)
